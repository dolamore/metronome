<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metronome</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.26/Tone.js" defer></script>
</head>
<body>
<div class="bpm-container">
    <label for="bpm">BPM:</label>
    <div class="bpm-controls">
        <button id="decrease-bpm-5">-5</button>
        <button id="decrease-bpm-1">-1</button>
        <input type="number" id="bpm" value="120">
        <button id="increase-bpm-1">+1</button>
        <button id="increase-bpm-5">+5</button>
    </div>
</div>
<div id="loop-counter-label">Loops played:</div>
<div id="loop-counter">0</div>
<div>
    <label><input type="checkbox" id="toggle-pendulum" checked> Show Pendulum Bar</label>
    <label><input type="checkbox" id="toggle-flashing-bar" checked> Show Flashing Bar</label>
    <label><input type="checkbox" id="toggle-note-bar" checked> Show Beat Bars</label>
</div>
<div>
    <button id="start-stop">Start</button>
    <button id="settings">Settings</button>
    <label>
        <input type="checkbox" id="training-mode"> Training Mode
    </label>
</div>
<div id="training-settings" class="hidden">
    <div id="loop-skip-probability-container" class="probability-container">
        <label>
            Loop Skip:
            <input type="number" id="loop-skip-probability" value="25" min="0" max="100">%
        </label>
    </div>
    <div id="note-skip-probability-container" class="probability-container">
        <label>
            Note Skip:
            <input type="number" id="note-skip-probability" value="0" min="0" max="100">%
        </label>
    </div>
</div>
<div class="controls-container">
    <div class="control-group">
        <label>Beats</label>
        <div>
            <button id="increase-beats">+</button>
            <span id="beats-count">4</span>
            <button id="decrease-beats">-</button>
        </div>
    </div>
    <div class="time-signature">
        <span>Time Signature:</span>
        <div id="time-signature" class="signature-box">4/4</div>
    </div>
    <div class="control-group">
        <label>Notes</label>
        <div>
            <button id="increase-notes">+</button>
            <span id="notes-count">4</span>
            <button id="decrease-notes">-</button>
        </div>
    </div>
</div>
<div class="beat-container">
    <div class="beat-wrapper">
        <div class="beat" data-beat="0" data-sound="1"></div>
        <select class="note-size-dropdown" data-beat="0">
            <option value="1">1</option>
            <option value="1T">1T</option>
            <option value="2">1/2</option>
            <option value="2T">1/2T</option>
            <option value="4" selected>1/4</option>
            <option value="4T">1/4T</option>
            <option value="8">1/8</option>
            <option value="8T">1/8T</option>
            <option value="16">1/16</option>
            <option value="16T">1/16T</option>
            <option value="32">1/32</option>
            <option value="32T">1/32T</option>
            <option value="64">1/64</option>
            <option value="64T">1/64T</option>
        </select>
        <label>
            <select class="note-amount-dropdown" data-beat="0">
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </label>
    </div>
    <div class="beat-wrapper">
        <div class="beat" data-beat="1" data-sound="1"></div>
        <select class="note-size-dropdown" data-beat="1">
            <option value="1">1</option>
            <option value="1T">1T</option>
            <option value="2">1/2</option>
            <option value="2T">1/2T</option>
            <option value="4" selected>1/4</option>
            <option value="4T">1/4T</option>
            <option value="8">1/8</option>
            <option value="8T">1/8T</option>
            <option value="16">1/16</option>
            <option value="16T">1/16T</option>
            <option value="32">1/32</option>
            <option value="32T">1/32T</option>
            <option value="64">1/64</option>
            <option value="64T">1/64T</option>
        </select>
        <label>
            <select class="note-amount-dropdown" data-beat="1">
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </label>
    </div>
    <div class="beat-wrapper">
        <div class="beat" data-beat="2" data-sound="1"></div>
        <select class="note-size-dropdown" data-beat="2">
            <option value="1">1</option>
            <option value="1T">1T</option>
            <option value="2">1/2</option>
            <option value="2T">1/2T</option>
            <option value="4" selected>1/4</option>
            <option value="4T">1/4T</option>
            <option value="8">1/8</option>
            <option value="8T">1/8T</option>
            <option value="16">1/16</option>
            <option value="16T">1/16T</option>
            <option value="32">1/32</option>
            <option value="32T">1/32T</option>
            <option value="64">1/64</option>
            <option value="64T">1/64T</option>
        </select>
        <label>
            <select class="note-amount-dropdown" data-beat="2">
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </label>
    </div>
    <div class="beat-wrapper">
        <div class="beat" data-beat="3" data-sound="1"></div>
        <select class="note-size-dropdown" data-beat="3">
            <option value="1">1</option>
            <option value="1T">1T</option>
            <option value="2">1/2</option>
            <option value="2T">1/2T</option>
            <option value="4" selected>1/4</option>
            <option value="4T">1/4T</option>
            <option value="8">1/8</option>
            <option value="8T">1/8T</option>
            <option value="16">1/16</option>
            <option value="16T">1/16T</option>
            <option value="32">1/32</option>
            <option value="32T">1/32T</option>
            <option value="64">1/64</option>
            <option value="64T">1/64T</option>
        </select>
        <label>
            <select class="note-amount-dropdown" data-beat="3">
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
            </select>
        </label>
    </div>
</div>
<div class="flashing-bar"></div>
<div class="horizontal-bar">
    <div class="pendulum"></div>
</div>
<div id="settings-panel" class="hidden">
    <h2>Sound Settings</h2>
    <div class="sound-settings">
        <div class="labels">
            <span>Beat</span>
            <span>Sound</span>
            <span>Frequency</span>
            <span>Detune</span>
            <span>Phase</span>
            <span>Volume</span>
        </div>
        <div class="sound-row">
            <label for="sound-0">Beat 1:</label>
            <select id="sound-0">
                <option value="0">No Sound</option>
                <option value="1">Sound 1</option>
                <option value="2">Sound 2</option>
                <option value="3">Sound 3</option>
                <option value="4">Sound 4</option>
            </select>
            <input id="frequency-0" type="number" placeholder="Frequency">
            <input id="detune-0" type="number" placeholder="Detune">
            <input id="phase-0" type="number" placeholder="Phase">
            <input id="volume-0" type="number" placeholder="Volume">
        </div>
        <div class="sound-row">
            <label for="sound-1">Beat 2:</label>
            <select id="sound-1">
                <option value="0">No Sound</option>
                <option value="1">Sound 1</option>
                <option value="2">Sound 2</option>
                <option value="3">Sound 3</option>
                <option value="4">Sound 4</option>
            </select>
            <input id="frequency-1" type="number" placeholder="Frequency">
            <input id="detune-1" type="number" placeholder="Detune">
            <input id="phase-1" type="number" placeholder="Phase">
            <input id="volume-1" type="number" placeholder="Volume">
        </div>
        <div class="sound-row">
            <label for="sound-2">Beat 3:</label>
            <select id="sound-2">
                <option value="0">No Sound</option>
                <option value="1">Sound 1</option>
                <option value="2">Sound 2</option>
                <option value="3">Sound 3</option>
                <option value="4">Sound 4</option>
            </select>
            <input id="frequency-2" type="number" placeholder="Frequency">
            <input id="detune-2" type="number" placeholder="Detune">
            <input id="phase-2" type="number" placeholder="Phase">
            <input id="volume-2" type="number" placeholder="Volume">
        </div>
        <div class="sound-row">
            <label for="sound-3">Beat 4:</label>
            <select id="sound-3">
                <option value="0">No Sound</option>
                <option value="1">Sound 1</option>
                <option value="2">Sound 2</option>
                <option value="3">Sound 3</option>
                <option value="4">Sound 4</option>
            </select>
            <input id="frequency-3" type="number" placeholder="Frequency">
            <input id="detune-3" type="number" placeholder="Detune">
            <input id="phase-3" type="number" placeholder="Phase">
            <input id="volume-3" type="number" placeholder="Volume">
        </div>
    </div>
    <button id="save-settings">Save</button>
</div>
<script src="render.js" type="module" defer></script>
</body>
</html>